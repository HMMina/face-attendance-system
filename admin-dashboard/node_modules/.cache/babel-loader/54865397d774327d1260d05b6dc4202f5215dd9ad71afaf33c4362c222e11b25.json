{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ADMIN\\\\.vscode\\\\face-attendace-system\\\\admin-dashboard\\\\src\\\\pages\\\\Attendance.js\",\n  _s = $RefreshSig$();\n// Trang lịch sử chấm công\nimport React, { useState } from 'react';\nimport { getAttendanceHistory, getEmployeeAttendance } from '../services/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Attendance() {\n  _s();\n  const [deviceId, setDeviceId] = useState('');\n  const [employeeId, setEmployeeId] = useState('');\n  const [history, setHistory] = useState([]);\n  const [selected, setSelected] = useState(null);\n  const handleSearchDevice = async () => {\n    const res = await getAttendanceHistory(deviceId);\n    setHistory(res.data);\n  };\n  const handleSearchEmployee = async () => {\n    const res = await getEmployeeAttendance(employeeId);\n    setHistory(res.data);\n  };\n  const handleSelect = item => {\n    setSelected(item);\n  };\n  const handleExport = () => {\n    // Xuất báo cáo đơn giản dạng CSV\n    const csv = history.map(h => `${h.id},${h.employee_id},${h.device_id},${h.timestamp},${h.confidence}`).join('\\n');\n    const blob = new Blob([csv], {\n      type: 'text/csv'\n    });\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = 'attendance_report.csv';\n    a.click();\n    URL.revokeObjectURL(url);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: 32\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"L\\u1ECBch s\\u1EED ch\\u1EA5m c\\xF4ng\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        placeholder: \"Device ID\",\n        value: deviceId,\n        onChange: e => setDeviceId(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleSearchDevice,\n        children: \"T\\xECm theo thi\\u1EBFt b\\u1ECB\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        placeholder: \"Employee ID\",\n        value: employeeId,\n        onChange: e => setEmployeeId(e.target.value),\n        style: {\n          marginLeft: 8\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleSearchEmployee,\n        children: \"T\\xECm theo nh\\xE2n vi\\xEAn\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleExport,\n        style: {\n          marginLeft: 8\n        },\n        children: \"Xu\\u1EA5t b\\xE1o c\\xE1o\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: history.map(item => /*#__PURE__*/_jsxDEV(\"li\", {\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            cursor: 'pointer',\n            color: 'blue'\n          },\n          onClick: () => handleSelect(item),\n          children: [item.employee_id, \" - \", item.device_id, \" - \", item.timestamp, \" - \", item.confidence]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 13\n        }, this)\n      }, item.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this), selected && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: 16,\n        border: '1px solid #ccc',\n        padding: 16\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        children: \"Chi ti\\u1EBFt ch\\u1EA5m c\\xF4ng\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [\"ID: \", selected.id]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [\"Employee ID: \", selected.employee_id]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [\"Device ID: \", selected.device_id]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [\"Th\\u1EDDi gian: \", selected.timestamp]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [\"\\u0110\\u1ED9 tin c\\u1EADy: \", selected.confidence]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setSelected(null),\n        style: {\n          marginTop: 8\n        },\n        children: \"\\u0110\\xF3ng\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 5\n  }, this);\n}\n_s(Attendance, \"VPiS8joFeLEUEtSR6NKmsi3vgOo=\");\n_c = Attendance;\nvar _c;\n$RefreshReg$(_c, \"Attendance\");","map":{"version":3,"names":["React","useState","getAttendanceHistory","getEmployeeAttendance","jsxDEV","_jsxDEV","Attendance","_s","deviceId","setDeviceId","employeeId","setEmployeeId","history","setHistory","selected","setSelected","handleSearchDevice","res","data","handleSearchEmployee","handleSelect","item","handleExport","csv","map","h","id","employee_id","device_id","timestamp","confidence","join","blob","Blob","type","url","URL","createObjectURL","a","document","createElement","href","download","click","revokeObjectURL","style","padding","children","fileName","_jsxFileName","lineNumber","columnNumber","placeholder","value","onChange","e","target","onClick","marginLeft","cursor","color","marginTop","border","_c","$RefreshReg$"],"sources":["C:/Users/ADMIN/.vscode/face-attendace-system/admin-dashboard/src/pages/Attendance.js"],"sourcesContent":["// Trang lịch sử chấm công\r\nimport React, { useState } from 'react';\r\nimport { getAttendanceHistory, getEmployeeAttendance } from '../services/api';\r\n\r\n\r\nexport default function Attendance() {\r\n  const [deviceId, setDeviceId] = useState('');\r\n  const [employeeId, setEmployeeId] = useState('');\r\n  const [history, setHistory] = useState([]);\r\n  const [selected, setSelected] = useState(null);\r\n\r\n  const handleSearchDevice = async () => {\r\n    const res = await getAttendanceHistory(deviceId);\r\n    setHistory(res.data);\r\n  };\r\n\r\n  const handleSearchEmployee = async () => {\r\n    const res = await getEmployeeAttendance(employeeId);\r\n    setHistory(res.data);\r\n  };\r\n\r\n  const handleSelect = (item) => {\r\n    setSelected(item);\r\n  };\r\n\r\n  const handleExport = () => {\r\n    // Xuất báo cáo đơn giản dạng CSV\r\n    const csv = history.map(h => `${h.id},${h.employee_id},${h.device_id},${h.timestamp},${h.confidence}`).join('\\n');\r\n    const blob = new Blob([csv], { type: 'text/csv' });\r\n    const url = URL.createObjectURL(blob);\r\n    const a = document.createElement('a');\r\n    a.href = url;\r\n    a.download = 'attendance_report.csv';\r\n    a.click();\r\n    URL.revokeObjectURL(url);\r\n  };\r\n\r\n  return (\r\n    <div style={{ padding: 32 }}>\r\n      <h2>Lịch sử chấm công</h2>\r\n      <div>\r\n        <input placeholder=\"Device ID\" value={deviceId} onChange={e => setDeviceId(e.target.value)} />\r\n        <button onClick={handleSearchDevice}>Tìm theo thiết bị</button>\r\n        <input placeholder=\"Employee ID\" value={employeeId} onChange={e => setEmployeeId(e.target.value)} style={{ marginLeft: 8 }} />\r\n        <button onClick={handleSearchEmployee}>Tìm theo nhân viên</button>\r\n        <button onClick={handleExport} style={{ marginLeft: 8 }}>Xuất báo cáo</button>\r\n      </div>\r\n      <ul>\r\n        {history.map(item => (\r\n          <li key={item.id}>\r\n            <span style={{ cursor: 'pointer', color: 'blue' }} onClick={() => handleSelect(item)}>\r\n              {item.employee_id} - {item.device_id} - {item.timestamp} - {item.confidence}\r\n            </span>\r\n          </li>\r\n        ))}\r\n      </ul>\r\n      {selected && (\r\n        <div style={{ marginTop: 16, border: '1px solid #ccc', padding: 16 }}>\r\n          <h4>Chi tiết chấm công</h4>\r\n          <div>ID: {selected.id}</div>\r\n          <div>Employee ID: {selected.employee_id}</div>\r\n          <div>Device ID: {selected.device_id}</div>\r\n          <div>Thời gian: {selected.timestamp}</div>\r\n          <div>Độ tin cậy: {selected.confidence}</div>\r\n          <button onClick={() => setSelected(null)} style={{ marginTop: 8 }}>Đóng</button>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":";;AAAA;AACA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,SAASC,oBAAoB,EAAEC,qBAAqB,QAAQ,iBAAiB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAG9E,eAAe,SAASC,UAAUA,CAAA,EAAG;EAAAC,EAAA;EACnC,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGR,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACS,UAAU,EAAEC,aAAa,CAAC,GAAGV,QAAQ,CAAC,EAAE,CAAC;EAChD,MAAM,CAACW,OAAO,EAAEC,UAAU,CAAC,GAAGZ,QAAQ,CAAC,EAAE,CAAC;EAC1C,MAAM,CAACa,QAAQ,EAAEC,WAAW,CAAC,GAAGd,QAAQ,CAAC,IAAI,CAAC;EAE9C,MAAMe,kBAAkB,GAAG,MAAAA,CAAA,KAAY;IACrC,MAAMC,GAAG,GAAG,MAAMf,oBAAoB,CAACM,QAAQ,CAAC;IAChDK,UAAU,CAACI,GAAG,CAACC,IAAI,CAAC;EACtB,CAAC;EAED,MAAMC,oBAAoB,GAAG,MAAAA,CAAA,KAAY;IACvC,MAAMF,GAAG,GAAG,MAAMd,qBAAqB,CAACO,UAAU,CAAC;IACnDG,UAAU,CAACI,GAAG,CAACC,IAAI,CAAC;EACtB,CAAC;EAED,MAAME,YAAY,GAAIC,IAAI,IAAK;IAC7BN,WAAW,CAACM,IAAI,CAAC;EACnB,CAAC;EAED,MAAMC,YAAY,GAAGA,CAAA,KAAM;IACzB;IACA,MAAMC,GAAG,GAAGX,OAAO,CAACY,GAAG,CAACC,CAAC,IAAI,GAAGA,CAAC,CAACC,EAAE,IAAID,CAAC,CAACE,WAAW,IAAIF,CAAC,CAACG,SAAS,IAAIH,CAAC,CAACI,SAAS,IAAIJ,CAAC,CAACK,UAAU,EAAE,CAAC,CAACC,IAAI,CAAC,IAAI,CAAC;IACjH,MAAMC,IAAI,GAAG,IAAIC,IAAI,CAAC,CAACV,GAAG,CAAC,EAAE;MAAEW,IAAI,EAAE;IAAW,CAAC,CAAC;IAClD,MAAMC,GAAG,GAAGC,GAAG,CAACC,eAAe,CAACL,IAAI,CAAC;IACrC,MAAMM,CAAC,GAAGC,QAAQ,CAACC,aAAa,CAAC,GAAG,CAAC;IACrCF,CAAC,CAACG,IAAI,GAAGN,GAAG;IACZG,CAAC,CAACI,QAAQ,GAAG,uBAAuB;IACpCJ,CAAC,CAACK,KAAK,CAAC,CAAC;IACTP,GAAG,CAACQ,eAAe,CAACT,GAAG,CAAC;EAC1B,CAAC;EAED,oBACE9B,OAAA;IAAKwC,KAAK,EAAE;MAAEC,OAAO,EAAE;IAAG,CAAE;IAAAC,QAAA,gBAC1B1C,OAAA;MAAA0C,QAAA,EAAI;IAAiB;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eAC1B9C,OAAA;MAAA0C,QAAA,gBACE1C,OAAA;QAAO+C,WAAW,EAAC,WAAW;QAACC,KAAK,EAAE7C,QAAS;QAAC8C,QAAQ,EAAEC,CAAC,IAAI9C,WAAW,CAAC8C,CAAC,CAACC,MAAM,CAACH,KAAK;MAAE;QAAAL,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,eAC9F9C,OAAA;QAAQoD,OAAO,EAAEzC,kBAAmB;QAAA+B,QAAA,EAAC;MAAiB;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC,eAC/D9C,OAAA;QAAO+C,WAAW,EAAC,aAAa;QAACC,KAAK,EAAE3C,UAAW;QAAC4C,QAAQ,EAAEC,CAAC,IAAI5C,aAAa,CAAC4C,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE;QAACR,KAAK,EAAE;UAAEa,UAAU,EAAE;QAAE;MAAE;QAAAV,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,eAC9H9C,OAAA;QAAQoD,OAAO,EAAEtC,oBAAqB;QAAA4B,QAAA,EAAC;MAAkB;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC,eAClE9C,OAAA;QAAQoD,OAAO,EAAEnC,YAAa;QAACuB,KAAK,EAAE;UAAEa,UAAU,EAAE;QAAE,CAAE;QAAAX,QAAA,EAAC;MAAY;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC3E,CAAC,eACN9C,OAAA;MAAA0C,QAAA,EACGnC,OAAO,CAACY,GAAG,CAACH,IAAI,iBACfhB,OAAA;QAAA0C,QAAA,eACE1C,OAAA;UAAMwC,KAAK,EAAE;YAAEc,MAAM,EAAE,SAAS;YAAEC,KAAK,EAAE;UAAO,CAAE;UAACH,OAAO,EAAEA,CAAA,KAAMrC,YAAY,CAACC,IAAI,CAAE;UAAA0B,QAAA,GAClF1B,IAAI,CAACM,WAAW,EAAC,KAAG,EAACN,IAAI,CAACO,SAAS,EAAC,KAAG,EAACP,IAAI,CAACQ,SAAS,EAAC,KAAG,EAACR,IAAI,CAACS,UAAU;QAAA;UAAAkB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACvE;MAAC,GAHA9B,IAAI,CAACK,EAAE;QAAAsB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAIZ,CACL;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACA,CAAC,EACJrC,QAAQ,iBACPT,OAAA;MAAKwC,KAAK,EAAE;QAAEgB,SAAS,EAAE,EAAE;QAAEC,MAAM,EAAE,gBAAgB;QAAEhB,OAAO,EAAE;MAAG,CAAE;MAAAC,QAAA,gBACnE1C,OAAA;QAAA0C,QAAA,EAAI;MAAkB;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eAC3B9C,OAAA;QAAA0C,QAAA,GAAK,MAAI,EAACjC,QAAQ,CAACY,EAAE;MAAA;QAAAsB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAM,CAAC,eAC5B9C,OAAA;QAAA0C,QAAA,GAAK,eAAa,EAACjC,QAAQ,CAACa,WAAW;MAAA;QAAAqB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAM,CAAC,eAC9C9C,OAAA;QAAA0C,QAAA,GAAK,aAAW,EAACjC,QAAQ,CAACc,SAAS;MAAA;QAAAoB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAM,CAAC,eAC1C9C,OAAA;QAAA0C,QAAA,GAAK,kBAAW,EAACjC,QAAQ,CAACe,SAAS;MAAA;QAAAmB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAM,CAAC,eAC1C9C,OAAA;QAAA0C,QAAA,GAAK,6BAAY,EAACjC,QAAQ,CAACgB,UAAU;MAAA;QAAAkB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAM,CAAC,eAC5C9C,OAAA;QAAQoD,OAAO,EAAEA,CAAA,KAAM1C,WAAW,CAAC,IAAI,CAAE;QAAC8B,KAAK,EAAE;UAAEgB,SAAS,EAAE;QAAE,CAAE;QAAAd,QAAA,EAAC;MAAI;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC7E,CACN;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACE,CAAC;AAEV;AAAC5C,EAAA,CAhEuBD,UAAU;AAAAyD,EAAA,GAAVzD,UAAU;AAAA,IAAAyD,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}